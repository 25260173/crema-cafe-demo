<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Crema Cafe - лучший кофе в унике">
    <!-- Bootstrap 5 -->
    <link rel="stylesheet" href="../../../static/css/bootstrap.min.css">
    <script src="../../../static/js/bootstrap.bundle.min.js" defer></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css">
    <!-- Toastify-js -->
    <link rel="stylesheet" type="text/css" href="../../../static/css/toastify.min.css">
    <script type="text/javascript" src="../../../static/js/toastify.min.js" defer></script>
    <!-- jsPDF для генерации PDF -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <!-- Style -->
    <link rel="stylesheet" href="../../static/orders/style.css">
    <!-- Script -->
    <script src="../../static/orders/script.js" defer></script>
    <script src="../../static/orders/utils/receiptManager.js"></script>
    <script src="../../static/orders/utils/orderManager.js"></script>

    <title>Crema Cafe - Кассовый чек</title>
    <link rel="icon" href="../../static/orders/images/favicon.ico" type="image/x-icon">
</head>
<body>
    <!-- Навигационная панель -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
        <div class="container d-flex flex-column justify-content-center">
            <a class="navbar-brand mt-0 mb-0" href="./menu.html">CREMA</a>
            <a class="navbar-brand" href="./menu.html">cafe</a>
        </div>
    </nav>

    <!-- Основной контент -->
    <main class="container my-5">
        <a href="./menu.html" class="text-decoration-none text-dark"><h1>&lt; Назад</h1></a>
        <div class="row">
            <!-- Сайдбар для деталей заказа -->
            <aside class="col-md-8">
                <div class="comments-sidebar">
                    <!-- Информация о клиенте -->
                    <div class="form-section">
                        <h5><i class="bi bi-person-circle me-2"></i>Информация о клиенте</h5>
                        <div class="customer-info-grid">
                            <div class="mb-3">
                                <label for="customerName" class="form-label">Имя</label>
                                <input type="text" id="customerName" class="form-control" placeholder="Введите ваше имя">
                            </div>
                            <div class="mb-3">
                                <label for="customerPhone" class="form-label">Телефон</label>
                                <input type="tel" id="customerPhone" class="form-control" placeholder="+7 (777) 123-45-67" required>
                            </div>
                            <div class="mb-3">
                                <label for="customerEmail" class="form-label">Email</label>
                                <input type="email" id="customerEmail" class="form-control" placeholder="email@example.com">
                            </div>
                        </div>
                    </div>

                    

                    <!-- Выбор объема и допов -->
                    <div class="form-section">
                        <h5><i class="bi bi-cup-hot me-2"></i>Детали напитков</h5>
                        <div id="drink-details-container">
                            <!-- Контейнер для выбора объема и допов будет заполнен динамически -->
                            <div class="alert alert-info">
                                <small><i class="bi bi-info-circle"></i> Добавьте напитки в корзину для настройки деталей</small>
                            </div>
                        </div>
                    </div>

                    <!-- Комментарий и настройки заказа -->
                    <div class="form-section">
                        <h5><i class="bi bi-chat-text me-2"></i>Дополнительно</h5>
                        <div class="mb-3">
                            <label for="orderComment" class="form-label">Комментарий к заказу</label>
                            <textarea 
                                id="orderComment" 
                                class="form-control" 
                                rows="3" 
                                placeholder="Добавьте комментарий к заказу...&#10;Например:&#10;- Сделать кофе покрепче&#10;- Без сахара&#10;- Особые пожелания"
                            ></textarea>
                        </div>
                        <div class="row">
                            <div class="col-md-6 mb-3">
                                <label for="orderType" class="form-label">Тип заказа</label>
                                <select id="orderType" class="form-select">
                                    <option value="here">В зале</option>
                                    <option value="takeaway">На вынос</option>
                                </select>
                            </div>
                            <div class="col-md-6 mb-3">
                                <label for="paymentMethod" class="form-label">Способ оплаты</label>
                                <select id="paymentMethod" class="form-select">
                                    <option value="card">Банковская карта</option>
                                    <option value="qr">Kaspi QR</option>
                                </select>
                            </div>
                        </div>
                    </div>

                    <!-- Кнопки сохранения -->
                    <button id="makeOrder" class="btn btn-dark w-100">
                        <i class="bi bi-check"></i> К оплате
                    </button>
                </div>
            </aside>
            <!-- Кассовый чек -->
            <section class="col-md-4">
                <div class="card">
                    <div class="card-body receipt-card-body">
                        <h2 class="mb-4">Кассовый чек</h2>
                        <div id="receipt-content" class="receipt-container">
                            <!-- Чек будет сгенерирован через JavaScript -->
                        </div>
                    </div>
                    <div class="card-footer d-flex justify-content-center">
                        <div class="action-buttons">
                            <button id="downloadPdf" class="btn btn-download">
                                <i class="bi bi-download"></i> Скачать PDF
                            </button>
                            <button id="clearCart" class="btn btn-clear">
                                <i class="bi bi-trash"></i> Очистить корзину
                            </button>
                        </div>
                    </div>
                </div>
            </section>
        </div>
    </main>

    <!-- Футер -->
    <footer class="bg-dark text-light py-4 mt-5">
        <div class="container">
            <div class="row">
                <div class="col-md-6">
                    <p>&copy; 2025 KKSIHTK Enterprise. Все права защищены.</p>
                </div>
                <div class="col-md-6 text-md-end">
                    <a href="../documents/privacy-policy.html" class="text-light me-3">Политика конфиденциальности</a>
                    <a href="../documents/license.html" class="text-light">Лицензия и Условия использования</a>
                </div>
            </div>
        </div>
    </footer>

    <!-- Кнопка "Наверх" -->
    <button id="backToTop" class="btn btn-dark position-fixed" style="display: none; bottom: 20px; right: 20px; z-index: 1000; width: 50px; height: 50px; border-radius: 50%;">
        <i class="bi bi-chevron-up"></i>
    </button>
</body>
</html>